# Cloudflare Pages Configuration
# Gestionale Sicurezza - D.Lgs. 81/08
# Versione: 1.0.0 - Gennaio 2026

name = "gestionalesicurezza"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Pages configuration
pages_build_output_dir = "dist"

# Production environment
[env.production]
name = "gestionalesicurezza-prod"

# D1 Database binding
[[env.production.d1_databases]]
binding = "DB"
database_name = "gestionalesicurezza"
database_id = "bf929649-0ce9-4715-b440-dea458b36c76"

# KV Namespace per sessioni
[[env.production.kv_namespaces]]
binding = "SESSIONS"
id = "81d32bda77214ae192ee7848f9c817f4"

# KV Namespace per abbonamenti
[[env.production.kv_namespaces]]
binding = "SUBSCRIPTIONS"
id = "ee17c3df58ac4303a455eaf735f13738"

# Environment variables
[env.production.vars]
ENVIRONMENT = "production"
APP_NAME = "GestionaleSicurezza"
APP_VERSION = "1.0.0"

# Preview environment
[env.preview]
name = "gestionalesicurezza-preview"

[[env.preview.d1_databases]]
binding = "DB"
database_name = "gestionalesicurezza"
database_id = "bf929649-0ce9-4715-b440-dea458b36c76"

[[env.preview.kv_namespaces]]
binding = "SESSIONS"
id = "81d32bda77214ae192ee7848f9c817f4"

[[env.preview.kv_namespaces]]
binding = "SUBSCRIPTIONS"
id = "ee17c3df58ac4303a455eaf735f13738"

[env.preview.vars]
ENVIRONMENT = "preview"
APP_NAME = "GestionaleSicurezza"
APP_VERSION = "1.0.0"
