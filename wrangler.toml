# Cloudflare Pages Configuration
# SecurityTools - Gestionale Corsi Sicurezza D.Lgs. 81/08
# Versione: 1.0.0 - Gennaio 2026

name = "securitytools"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Pages configuration
pages_build_output_dir = "dist"

# Production environment (principale per Pages)
[env.production]
name = "securitytools-prod"

# D1 Database binding
[[env.production.d1_databases]]
binding = "DB"
database_name = "securitytools-db"
database_id = "YOUR_D1_DATABASE_ID"

# KV Namespace per sessioni
[[env.production.kv_namespaces]]
binding = "SESSIONS"
id = "YOUR_KV_NAMESPACE_ID"

# KV Namespace per abbonamenti
[[env.production.kv_namespaces]]
binding = "SUBSCRIPTIONS"
id = "YOUR_SUBSCRIPTIONS_KV_ID"

# Environment variables
[env.production.vars]
ENVIRONMENT = "production"
APP_NAME = "SecurityTools"
APP_VERSION = "1.0.0"

# Preview environment (per branch non-production)
[env.preview]
name = "securitytools-preview"

[[env.preview.d1_databases]]
binding = "DB"
database_name = "securitytools-db"
database_id = "YOUR_D1_DATABASE_ID"

[[env.preview.kv_namespaces]]
binding = "SESSIONS"
id = "YOUR_KV_NAMESPACE_ID"

[[env.preview.kv_namespaces]]
binding = "SUBSCRIPTIONS"
id = "YOUR_SUBSCRIPTIONS_KV_ID"

[env.preview.vars]
ENVIRONMENT = "preview"
APP_NAME = "SecurityTools"
APP_VERSION = "1.0.0"
