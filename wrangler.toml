# Cloudflare Pages Configuration
# SecurityTools - Gestionale Corsi Sicurezza D.Lgs. 81/08
# Versione: 1.0.0 - Gennaio 2026

name = "securitytools"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Pages configuration
pages_build_output_dir = "dist"

# Production environment (principale per Pages)
[env.production]
name = "securitytools-prod"

# D1 Database binding
[[env.production.d1_databases]]
binding = "DB"
database_name = "securitytools-db"
database_id = "c810627c-82ee-4b37-9029-95aa27149879"

# KV Namespace per sessioni
[[env.production.kv_namespaces]]
binding = "SESSIONS"
id = "b97eafd1cb55494f9d1bfa077ad377d2"

# KV Namespace per abbonamenti
[[env.production.kv_namespaces]]
binding = "SUBSCRIPTIONS"
id = "a2dc8f3c360f482ca7a2265ead0bd4cb"

# Environment variables
[env.production.vars]
ENVIRONMENT = "production"
APP_NAME = "SecurityTools"
APP_VERSION = "1.0.0"

# Preview environment (per branch non-production)
[env.preview]
name = "securitytools-preview"

[[env.preview.d1_databases]]
binding = "DB"
database_name = "securitytools-db"
database_id = "c810627c-82ee-4b37-9029-95aa27149879"

[[env.preview.kv_namespaces]]
binding = "SESSIONS"
id = "b97eafd1cb55494f9d1bfa077ad377d2"

[[env.preview.kv_namespaces]]
binding = "SUBSCRIPTIONS"
id = "a2dc8f3c360f482ca7a2265ead0bd4cb"

[env.preview.vars]
ENVIRONMENT = "preview"
APP_NAME = "SecurityTools"
APP_VERSION = "1.0.0"
